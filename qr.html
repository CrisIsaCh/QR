<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR con JSON embebido y Redirección</title>
    <style>
        #qrcode {
            margin: 20px;
            display: inline-block;
        }
    </style>
</head>

<body>
    <h1>Generar QR con JSON embebido y Redirección</h1>
    <div id="qrcode"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        // URL de la página de destino
        const baseURL = "https://mi-sitio.com/pagina-destino";

        // Datos JSON que deseamos embebir
        const jsonData = {
            amount: 150.75,
            currency: "USD",
            description: "Pago de servicio",
            transactionId: "TX1234567890",
            date: "2024-12-27",
        };

        // Combinar la URL y el JSON en un único texto
        const qrContent = JSON.stringify({
            url: baseURL,
            data: jsonData,
        });

        // Generar el QR con el contenido combinado
        const qrcode = new QRCode(document.getElementById("qrcode"), {
            text: qrContent,
            width: 256,
            height: 256,
            colorDark: "#000000",
            colorLight: "#ffffff",
        });

        console.log("Contenido del QR:", qrContent);
    </script>
</body>

</html>